(window.webpackJsonp=window.webpackJsonp||[]).push([[88],{290:function(t,a,s){"use strict";s.r(a);var n=s(28),e=Object(n.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"组件介绍"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#组件介绍"}},[t._v("#")]),t._v(" 组件介绍")]),t._v(" "),s("ul",[s("li",[t._v("智能小程序平台为开发者提供了联合登录/手机号授权登录组件，开发者在强依赖登录的业务场景可以通过调用该组件，快速完成小程序登录流程并获取用户手机号信息。")]),t._v(" "),s("li",[t._v("联合登录/手机号授权登录组件包括以下两部分功能："),s("br"),t._v("\n1、对百度APP用户登录态的判断；"),s("br"),t._v("\n2、对百度APP已登录用户提供授权登录弹窗；对百度APP未登录用户提供「登录&授权半屏面板」，用户可通过该面板一键完成登录和授权操作。")])]),t._v(" "),s("h2",{attrs:{id:"组件优势"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#组件优势"}},[t._v("#")]),t._v(" 组件优势")]),t._v(" "),s("ul",[s("li",[t._v("开发者使用联合登录/手机号授权组件后，能够直接获取用户的手机号信息，实现自有账号体系与百度账号体系的互通，同时为使用平台提供的用户资产服务奠定了基础。")])]),t._v(" "),s("h2",{attrs:{id:"申请流程"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#申请流程"}},[t._v("#")]),t._v(" 申请流程")]),t._v(" "),s("ul",[s("li",[t._v("申请流程在小程序开发者后台完成，路径为：小程序后台-开发管理-功能管理-"),s("a",{attrs:{href:"https://smartprogram.baidu.com/docs/introduction/getphonenumber/",target:"_blank",rel:"noopener noreferrer"}},[t._v("开通获取手机号权限"),s("OutboundLink")],1),t._v("。具体分为以下三部分："),s("br"),t._v("\n1、信息填写：根据实际情况填写相关信息"),s("br"),t._v("\n2、平台审核：信息提交后等待审核通过"),s("br"),t._v("\n3、审核通过后，即可接入联合登录/手机号授权组件")])]),t._v(" "),s("h2",{attrs:{id:"开发流程"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#开发流程"}},[t._v("#")]),t._v(" 开发流程")]),t._v(" "),s("ul",[s("li",[t._v("在"),s("a",{attrs:{href:"https://smartprogram.baidu.com/docs/develop/component/formlist_button/",target:"_blank",rel:"noopener noreferrer"}},[t._v("button组件"),s("OutboundLink")],1),t._v("中，将 open-type 设置为 getPhoneNumber，并使用 bindgetphonenumber 作为获取用户手机号的回调")]),t._v(" "),s("li",[t._v("返回值中的 encryptedData 和 iv 需要发送到服务端解密，详细可参考"),s("a",{attrs:{href:"https://smartprogram.baidu.com/docs/develop/api/open/log_userdata/",target:"_blank",rel:"noopener noreferrer"}},[t._v("用户数据的签名验证和加解密"),s("OutboundLink")],1)])]),t._v(" "),s("h2",{attrs:{id:"示例"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#示例"}},[t._v("#")]),t._v(" 示例")]),t._v(" "),s("h3",{attrs:{id:"扫码体验"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#扫码体验"}},[t._v("#")]),t._v(" 扫码体验")]),t._v(" "),s("QRCode",{attrs:{url:"https://smartapp.baidu.com/mappconsole/api/packagescheme?appKey=4fecoAqgCIUtzIyA4FAPgoyrc4oUc25c&path=fragment%2Flogin-union%2Findex"}}),s("h3",{attrs:{id:"图片示例-左侧为百度app未登录用户授权登录流程；右侧为百度app已登录用户授权登录流程"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#图片示例-左侧为百度app未登录用户授权登录流程；右侧为百度app已登录用户授权登录流程"}},[t._v("#")]),t._v(" 图片示例: 左侧为百度APP未登录用户授权登录流程；右侧为百度APP已登录用户授权登录流程")]),t._v(" "),s("div",{staticClass:"m-doc-custom-examples"},[s("div",{staticClass:"m-doc-custom-examples-correct"},[s("img",{attrs:{src:"https://b.bdstatic.com/searchbox/icms/searchbox/img/unloginUnion.gif"}})]),t._v(" "),s("div",{staticClass:"m-doc-custom-examples-correct"},[s("img",{attrs:{src:"https://b.bdstatic.com/searchbox/icms/searchbox/img/loginUnion.gif"}})]),t._v(" "),s("div",{staticClass:"m-doc-custom-examples-correct"},[s("img",{attrs:{src:" "}})])]),t._v(" "),s("h3",{attrs:{id:"代码示例"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#代码示例"}},[t._v("#")]),t._v(" 代码示例 "),s("openIde",{attrs:{url:"swanide://fragment/2d09b1c62ea14f06e0914a576af0e8181584457994468"}})],1),t._v(" "),s("CodeTab",[s("CodeTabContent",{attrs:{name:"SWAN"}},[s("pre",{pre:!0,attrs:{class:"language-markup"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("button")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("open-type")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("getPhoneNumber"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("type")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("primary"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("bindgetphonenumber")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("getphonenumber"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    联合登录/手机号授权组件\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("button")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),s("CodeTabContent",{attrs:{name:"JS"}},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getphonenumber")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("e")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("e"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    swan"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("showModal")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        title"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" ‘res'"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        content"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("JSON")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("stringify")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("e"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])],1),s("h3",{attrs:{id:"返回值示例"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#返回值示例"}},[t._v("#")]),t._v(" 返回值示例")]),t._v(" "),s("CodeTabContent",{attrs:{name:"TEXT"}},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('{\n    "detail": {\n        "encryptedData": "ZOrJtrJ4eWkDOciQmyXPfqJhcF4t+SJsLYuIWufKt+/aBsXjKH/3iv7GafIE5DqqfEQjor4=",\n        "errMsg": "getPhoneNumber:ok",\n        "iv": "ce93b68c8ae71460706f8w=="\n    }\n}\n')])])])],1)}),[],!1,null,null,null);a.default=e.exports}}]);